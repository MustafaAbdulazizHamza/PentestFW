import os
from colorama import Fore, init
import mysql.connector as sc
init(autoreset=True)
loc = os.path.dirname(os.path.abspath(__file__))
login = open(f"{loc}/Data/login.txt")
lg = (login.read()).split('\n')
login.close()
db = sc.connect(host='localhost', user=lg[0], password = lg[1])
cur = db.cursor()
cur.execute("USE PentestFW;")
cats = {1: 'Exploits', 2: 'Scanners'}
for i in range(1, 3):
    cur.execute(f"SELECT Module, module_description FROM Modules WHERE category_ID = {i}")
    print(Fore.CYAN+cats[i])
    data = cur.fetchall()
    for d in data:
        print(f"{d[0]}\t\t{d[1]}")
    print('\n')
