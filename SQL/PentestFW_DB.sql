CREATE DATABASE PentestFW;
USE PentestFW;
CREATE TABLE Users(
user_ID INT PRIMARY KEY AUTO_INCREMENT,
username VARCHAR(50) NOT NULL UNIQUE,
pass_word VARCHAR(256) NOT NULL
);
CREATE TABLE Categories(
category_ID INT PRIMARY KEY AUTO_INCREMENT,
category VARCHAR(50) UNIQUE NOT NULL 
);
CREATE TABLE Modules(
module_ID INT PRIMARY KEY AUTO_INCREMENT,
module VARCHAR(50) NOT NULL UNIQUE,
category_ID INT,
module_description VARCHAR(2000) DEFAULT 'No Description', 
CONSTRAINT cat_FK FOREIGN KEY(category_ID) REFERENCES Categories(category_ID) ON DELETE RESTRICT ON UPDATE CASCADE 
);
CREATE TABLE Log(
record_ID INT PRIMARY KEY AUTO_INCREMENT,
module_ID int,
user_ID int,
notes VARCHAR(2000) DEFAULT 'No Notes',
the_Time TIMESTAMP DEFAULT NOW(),
CONSTRAINT module_FK FOREIGN KEY(module_ID) REFERENCES Modules(module_ID) ON DELETE RESTRICT ON UPDATE CASCADE,
CONSTRAINT user_FK FOREIGN KEY(user_ID) REFERENCES Users(user_ID) ON DELETE RESTRICT ON UPDATE CASCADE
);
create table Current_User_Table(user_id INT NOT NULL UNIQUE,
constraint cu_FK foreign key(user_id) references Users(user_id) on delete restrict on update cascade);
INSERT INTO Categories(category) VALUES('Exploit'),('Scanner');
